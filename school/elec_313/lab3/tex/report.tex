%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This layout was adapted from one found at latextemplates.com which
% was adapted from another.
%
% License: CC BY-NC-SA 3.0
% (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Original header:
%
% This is a LaTeX version of the sample laboratory report from
% Virginia Tech's copyrighted 08-09 CHEM 1045/1046 lab manual.
% Reproduction of this one appendix section for academic purposes
% should fall under fair use.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{article}

\usepackage{graphicx}
%\usepackage[acronym]{glossaries} % Lets us use acronyms
\usepackage{multicol}
\usepackage{amsmath}
\usepackage{siunitx} % SI units in math mode
\usepackage{subcaption}

\author{}
\title{ELEC-313 \\ Lab 3: Diode Circuits\\ }
\date{\today}

%\loadglsentries{acronyms} % Actually loads 'acronyms.tex'
%\makeglossaries

\begin{document}

\maketitle

\begin{center}
  \begin{tabular}{lr}
    Date Performed: & September 25, 2013 \\
    Partners: & Charles Pittman \\
    & Stephen Wilson \\
  \end{tabular}
\end{center}

\newpage

\tableofcontents
\listoffigures
\listoftables

\newpage

% Removes indentation from paragraphs: \setlength\parindent{0pt}

% Number the enumerate environment (unordered lists) by letter:
\renewcommand{\labelenumi}{\alph{enumi}.}

\section{Objective}
\label{sec:objective}

The objective is to observe the basic operation of a diode.  In
addition, the Schockley equation (Eq~\ref{eq:schockley}) is used to
find the diode's reverse saturation current ($I_S$) and thermal
voltage ($V_T$) using values measured in the lab.

\section{Equipment}
\label{sec:equipment}

\begin{tabular}{ll}
  \centering
  Diode: 1N4007 & Power supply: HP E3631A \\
  Zener diode: 1N5231 & Function generator: HP 33120A \\
  Resistors: \SI{47}{\ohm} & Multimeter: Fluke 8010A \\
  Capacitor: \SI{1}{\micro\farad} & Oscilloscope: Agilent 54622D \\
  Resistive decade box: HeathKit IN-3117 \\
\end{tabular}

\section{Schematics}
\label{sec:schematics}

\begin{figure}[hbtp]
  \centering
  \begin{subfigure}[b]{0.4\textwidth}
%    \includegraphics[width=\textwidth]{circuit1}
    \caption{\label{fig:circuit1} Circuit used for Parts A and Part B.}
  \end{subfigure}%
  ~
  \begin{subfigure}[b]{0.6\textwidth}
%    \includegraphics[width=\textwidth]{circuit2}
    \caption{\label{fig:circuit2} Circuit used for Part C.}
  \end{subfigure}
  \caption{\label{fig:circuits_tested} Circuits used in this lab.}
\end{figure}

\section{Procedure}
\label{sec:procedure}

\subsection{Rectifier}
\label{sec:rectifier}

\begin{table}[hbtp]
  \centering
  % This LaTeX table template is generated by emacs 24.3.1
  \begin{tabular}{cccccc}
    $V_S$ & $V_{max}$ & $V_{min}$ & $V_r$ & $V_{DC}$ & \% Ripple \\
    (V) & (V) & (V) & (V) & (V) &\\
    \hline
    1 & 0.488 & 0.369 & 0.119 & 0.429 & 24.4 \\
    2 & 1.41 & 1.10 & 0.310 & 1.26 & 22.0 \\
    3 & 2.39 & 1.88 & 0.510 & 2.14 & 21.3 \\
    4 & 3.31 & 2.38 & 0.930 & 2.85 & 28.1 \\
    5 & 4.25 & 3.19 & 1.06 & 3.72 & 24.9 \\
  \end{tabular}
  \caption{\label{tab:rect_vp_vdc} AC input vs. DC output of rectifier circuit, where $R_L=\SI{10}{\kilo\ohm}$}
\end{table}

\begin{table}[hbtp]
  \centering
  % This LaTeX table template is generated by emacs 24.3.1
  \begin{tabular}{cccccc}
    $R_L$ & $V_{max}$ & $V_{min}$ & $V_r$ & $V_{DC}$ & \% {Ripple} \\
    \si{\kilo\ohm} & \si{V} & \si{V} & \si{V} & & \\
    \hline
    1 & 4.13 & 0.440 & 3.69 & 2.29 & 89.3\% \\
    10 & 4.25 & 3.19 & 1.06 & 3.72 & 24.9\% \\
    100 & 4.321 & 4.193 & 0.128 & 4.257 & 2.962\% \\
  \end{tabular}
  \caption{\label{tab:load_v_ripple} Effect of $R_L$ on DC output}
\end{table}

% The circuit in Figure~\ref{fig:circuit1} was constructed with $R =
% \SI{470}{\ohm}$ and the power supply as $V_s$.  The actual resistance
% was measured with one a multimeter and recorded in
% Table~\ref{tab:percent_diff} along with the percent difference calculated
% (Eq~\ref{eq:percent_diff}).  Next, the multimeters were used to
% measure voltage across and current through the diode ($V_d$ and $I_d$,
% respectively) while $V_s$ was swept from \SI{-5}{V} to \SI{+10}{V}.
% The step size from \SI{-5}{V} to \SI{0}{V} and from \SI{5}{V} to
% \SI{10}{V} was \SI{0.5}{V}, and \SI{0.25}{V} from \SI{0}{V} to
% \SI{5}{V}.  These values were recorded in Table~\ref{tab:part_a} and
% plotted in Figure~\ref{fig:combined_graph}.

\subsection{Voltage Regulator}
\label{sec:volt_reg}

% The circuit in Figure~\ref{fig:circuit1} was constructed with the
% resistive decade box as $R$ and the power supply as $V_s$.  The
% multimeters were again used to measure diode voltage ($V_d$) and
% current ($I_d$).  This time $V_s$ was held at \SI{10}{V} and $R$
% varied: \SI{200}{\ohm}, \SI{500}{\ohm}, \SI{1}{\kilo\ohm},
% \SI{2}{\kilo\ohm}, \SI{5}{\kilo\ohm}, \SI{10}{\kilo\ohm},
% \SI{20}{\kilo\ohm}, \SI{50}{\kilo\ohm}, \SI{100}{\kilo\ohm}.  These
% values were recorded in Table~\ref{tab:part_b} and plotted in
% Figure~\ref{fig:combined_graph}.

\section{Results}
\label{sec:results}

\begin{figure}[hbtp]
  \centering
  \input{rect_vp_vdc}
  \caption{\label{fig:rect_vp_vdc} AC input vs. DC output of circuit, where $R_L=\SI{10}{\kilo\ohm}$}
\end{figure}

\begin{table}
  \centering
  % This LaTeX table template is generated by emacs 24.3.1
  \begin{tabular}{cccccccccc}
    & & & \multicolumn{2}{c}{Measured} & & \multicolumn{2}{c}{Calculated} & & & \\
    $R_L$ & $V_L$ & $I_L$ & $V_{OC}$ & $V_S$(Drop)Meas(V) & \%reg(VL) & $V_{OC}$(V) & \%diffVOC & VS(Drop)PSpice(V) & \%DiffVS(Drop) \\
    \si{\ohm} & \si{V} & \si{mA} & \si{V} & \si{V} & & \si{V} & & \si{V} &\\
    \hline
    100 & 5.163 & 50.9 & 6.10 & 7.5 & 4.20\% & 6.12 & 0.359\% & 7.5 & 0.0\% \\
    330 & 5.318 & 15.62 & 7.87 & 5.9 & 1.17\% & 7.88 & 0.102\% & 5.8 & 1.7\% \\
    1000 & 5.11 & 5.27 & 8.60 & 5.3 & 5.28\% & 8.90 & 3.327\% & 5.3 & 0.0\% \\
    No Load & ($\inf$) & 5.38 & & & & & & \\
  \end{tabular}
  \caption{\label{}}
\end{table}

\section{Conclusion}
\label{sec:conclusion}

% As seen in Figure~\ref{fig:part_a_graph2}, the graph of the natural
% log of $I_d$ vs. $V_d$ derived from Part A data
% (Table~\ref{tab:part_a}) generates a linear plot.  The slope ($m$) of
% this line was then calculated and used to determine the thermal
% voltage ($V_T$) (Eq~\ref{eq:m}).  Two corresponding $I_d$ and $V_d$
% values (shown in Table~\ref{tab:analysis}) along with $V_T$ were
% plugged into the Schockley equation (Eq~\ref{eq:schockley}) to derive
% the saturation current ($I_S$), seen in (Table~\ref{tab:analysis}).
% The value of $V_T$ is very close to the assumed value of
% \SI{0.026}{V}.  Also the value of $I_S$ seems to be close to what is
% typically seen in circuits textbooks, thus showing that diode
% parameters can be calculated with the Schockley equation.

\section{Equations}
\label{sec:equations}

% LaTeX sees blank lines as a start of another paragraph.  To avoid
% unnecessary vertical spaces between equations, and still visually
% separate in source, put a comment between them.
%
\begin{equation}
  \label{eq:percent_diff}
  \%_{diff} = \frac{|nominal - measured|}{nominal}100\%
\end{equation}
%
\begin{equation}
  \label{eq:schockley}
  I_D = I_S \left(e^{\frac{V_D}{V_T}} - 1\right)
\end{equation}
%
  \begin{equation}
  \label{eq:m}
    m = \frac{ln(I_2)-ln(I_1)}{V_2-V_1} = \frac{1}{V_T}
\end{equation}

\end{document}